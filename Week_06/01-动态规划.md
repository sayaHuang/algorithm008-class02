[TOC]

# 动态规划

## 什么样的问题适合用动态规划解决
一般用来解决最优问题, 解决问题的过程经历过个决策, 由多个决策形成一棵决策树, 其中存在最优的决策序列(树从根到最优叶子结点的路径)  
### 特征
1. 最优子结构 - 可以通过子问题的最优解, 推导出问题的最优解
2. 重复子问题 - 到达某一个阶段可以通过不同的决策序列达到, 所以需要使用空间记录重复的子问题, 下一个计算相同问题,可以直接获取答案
3. 无后向性 - 某个阶段一旦确定, 不会受之后阶段的决策影响

## 动态规划思考过程
1. 找到递归关系
2. 从上往下: 写出暴力递归解(明确状态树)
3. 从上往下: 写出暴力递归解 + 记忆中间重复项
4. 从下往上: 递推 + 记忆中间重复项
5. 从下往上: 递推 + 记忆中间重复项(使用N个指针记录)

## 动态规划题目解题步骤
1. 将大问题拆分成子问题
2. 明确状态树, 确认重复项
3. 明确 memory 的含义
4. 明确base case
5. 开始递推, 注意边界条件

## 感悟
1. 动态规划一般需要找寻子问题, 子问题的解很容易就能算出来,形成为base case
2. 子问题发展为原问题的过程中, 虽然可能性很多, 但是你拥有上帝视角, 可以知道所有的发展的可能性
3. 子问题发展为原问题的过程中, 会存在重复的路径, 所以可以使用memory记录, 解决重复计算的问题
4. 可以使用memory帮助选择满足需求的路径

## 思考TIPS
1. 可以先按具一个具体的例子, 分析自己如果解决这个问题怎么做
2. 在找规律, 将具体的问题抽象

## 贪心、分治、回溯、动态规划
### 分类
1. 贪心、回溯、动态规划, 都可以抽象成多阶段决策最优解
2. 分治 不能抽象成多阶段决策最优解

### 回溯-暴力
穷举所有的情况, 对比找寻最优解  
**缺点** 所以时间复杂度很高, 一般是指数级别, 所以适合解决小规模问题
**优点** 算法编写简单, 不会出现漏考虑的情况  

### 动态规划
适合动态规划的问题, 需要满足   
1. 最优子结构 - 可以从子问题的最优解 推导问题的最优解
2. 重复子问题包 - 含重复子问题
3. 无后向性 - 决策到某一个阶段, 该阶段的结果不会受之后的决策影响  

**缺点** 不是所有问题都可以使用动态规划  
**优点** 动态规划通过记录重复项, 不需要重复计算子问题, 这就是为什么动态规划比回溯要高效  

### 分治
分治将问题划分成 不重复的N个子问题, 且子问题的解决过程跟 原问题一样  
**计算过程**
1. 递归的不断的分解问题，直到问题不可继续分解。
2. 当问题不可继续分解，也就是分解到最小子问题后，由最小子问题的解逐步向上回归，逐层求出上层问题的解。

**分治不同于动态规划的地方: **  
1. 分治将问题划分成不重复的子问题
2. 动态规划 保存解决过程中的重复子问题, 以便下次直接返回答案

### 贪心
贪心算法是动态规划的一种特殊情况, 他解决问题更加的高效, 适合贪心规划的问题, 需要满足
1. 最优子结构
2. 无后向性
3. 贪心选择性 - 每个决策阶段选择最优解, 可以导致最终结果的最优

### 形象对比
**贪心：**一条路走到黑，就一次机会，只能哪边看着顺眼走哪边
**回溯：**一条路走到黑，无数次重来的机会，还怕我走不出来 (Snapshot View)
**动态规划：**拥有上帝视角，手握无数平行宇宙的历史存档， 同时发展出无数个未来 (Versioned Archive View)

## 参考链接

[递归 -- 数据结构与算法之美](https://time.geekbang.org/column/article/74788)